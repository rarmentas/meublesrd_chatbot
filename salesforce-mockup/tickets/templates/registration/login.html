{% load i18n static %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE|default:'fr' }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% trans "Connexion" %} â€“ MeublesRD Service</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root { --meubles-red: #c00; --meubles-gray: #f4f4f4; }
    body { min-height: 100vh; display: flex; align-items: center; justify-content: center; background: var(--meubles-gray); }
    .login-card { max-width: 400px; width: 100%; box-shadow: 0 2px 8px rgba(0,0,0,.1); border-radius: 8px; }
    .login-header { background: #fff; border-bottom: 1px solid #dee2e6; padding: 1rem 1.5rem; border-radius: 8px 8px 0 0; }
    .logo-meubles { color: var(--meubles-red); font-weight: bold; font-size: 1.1rem; }
    .btn-meubles { background: var(--meubles-red); color: #fff; border: none; }
    .btn-meubles:hover { background: #a00; color: #fff; }
    .form-control:focus { border-color: var(--meubles-red); box-shadow: 0 0 0 0.2rem rgba(204, 0, 0, 0.25); }
    .errorlist { list-style: none; padding: 0; margin: 0 0 1rem; }
    .errorlist li { color: #dc3545; font-size: 0.875rem; }
  </style>
</head>
<body>
  <div class="login-card card">
    <div class="login-header">
      <span class="logo-meubles">MEUBLES RD</span>
    </div>
    <div class="card-body p-4">
      <h2 class="h5 mb-4">{% trans "Connexion" %}</h2>

      {% if form.non_field_errors %}
        <ul class="errorlist">
          {% for error in form.non_field_errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      {% endif %}

      <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ next|default:'/' }}">

        <div class="mb-3">
          <label for="id_username" class="form-label">{% trans "Nom d'utilisateur" %}</label>
          <input type="text" name="username" id="id_username" class="form-control" required autofocus autocomplete="username" value="{{ form.username.value|default:'' }}">
          {% if form.username.errors %}
            <ul class="errorlist">
              {% for error in form.username.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>

        <div class="mb-4">
          <label for="id_password" class="form-label">{% trans "Mot de passe" %}</label>
          <input type="password" name="password" id="id_password" class="form-control" required autocomplete="current-password">
          {% if form.password.errors %}
            <ul class="errorlist">
              {% for error in form.password.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>

        <button type="submit" class="btn btn-meubles w-100">{% trans "Connexion" %}</button>
      </form>

      <p class="text-muted small mt-3 mb-0">
        Mock up construit pour copilote
      </p>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
